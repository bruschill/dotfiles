require 'spec_helper'

describe Task do
  before(:each) do
    @attr = { :title => "Title" }
  end

  it "should create a new task" do
    Task.create!(@attr)
  end

  it "should reject empty titles" do
    empty_title_task = Task.new(@attr.merge(:title => ""))

    empty_title_task.should_not be_valid
  end

  it "should reject titles over 40 characters in length" do
    long_title = 'a' * 41

    long_title_task = Task.new(@attr.merge(:title => long_title))
    long_title_task.should_not be_valid
  end

  it "should have xp_value set to zero on create" do
    task = Task.new(@attr)

    task.xp_value.should == 0
  end

  it "should have completed set to false on create" do
    task = Task.new(@attr)

    task.completed.should == false
  end
end
